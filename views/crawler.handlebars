<!doctype html>
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <a class="navbar-brand" href="#">Ginan Web Crawler</a>
</nav>
<div class="container">
    <form id="form">
        <fieldset>
            <div class="form-group">
                <label for="inputUrl">Starting URL</label>
                <div class="col-sm-4">
                    <input type="url" class="form-control" id="inputURL" name="data[inputURL]" aria-describedby="URLHelp" placeholder="Enter Starting URL" required>
                </div>
                <small id="URLHelp" class="form-text text-muted">Enter the Url for the webpage to start your crawl from</small>
            </div>
        </fieldset>
        <fieldset class="form-group">
            <label for="crawlLimit">Crawl Limit</label>
            <div class="col-sm-2">
                <input type="number" class="form-control" id="crawlLimit" name="data[crawlLimit]" aria-describedby="limitHelp" placeholder="1" min="1" max="10" value="1">
            </div>
            <small id="limitHelp" class="form-text text-muted">Enter the number of links to crawl betweeen 1 - x </small>
        </fieldset>
        <fieldset class="form-group">
            <legend>Crawl Type</legend>
            <div class="col-sm-3">
                <div class="form-check">
                    <label class="form-check-label">
                        <input type="radio" class="form-check-input" name="data[searchType]" id="searchType" value="DFS" checked="">
                        Depth Crawl
                    </label>
                </div>
                <div class="form-check">
                    <label class="form-check-label">
                        <input type="radio" class="form-check-input" name="data[searchType]" id="searchType" value="BFS">
                        Breadth Crawl
                    </label>
                </div>
            </div>
            <small id="crawlTypeHelp" class="form-text text-muted">Choose the type of crawl you would like to perform </small>
        </fieldset>
        <fieldset>
            <button id="submitButton" type="submit" class="btn btn-primary">Crawl</button>
        </fieldset>
    </form>
</div>
<div class="container">
    <div class="jumbotron">
        <svg width="900" height="600"></svg>
    </div>
</div>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://d3js.org/d3.v4.min.js" type="text/javascript"></script>
<script src="http://d3js.org/d3-selection-multi.v1.js"></script>
<script src="/js/graph.js"></script>
<script type="text/javascript">
    $('#submitButton').click(function () {
        alert('clicked')
        $.ajax({
            url: "/test-page",
            type: "POST",
            dataType: "json",
            data: {
                starting_url: $("#inputURL").val(),
                crawl_limit: $("#crawlLimit").val(),
                search_type: $("#searchType").val()
            },
            contentType: "application/json",
            cache: false,
            timeout: 5000,
            complete: function () {
                //called when complete
                console.log('process complete');
            },

            success: function (data) {
                console.log(data);
                console.log('process sucess');
            },

            error: function () {
                console.log('process error');
            },
        });
    });
</script>